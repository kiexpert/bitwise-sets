<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>WkJSON - Well Keyed JSON Formatter</title>
<style>
body{margin:0;background:#111;color:#0f0;font-family:Consolas,monospace;}
.container{display:flex;height:calc(100vh - 40px);}
.panel{flex:1;padding:10px;box-sizing:border-box;overflow:auto;white-space:pre;}
#input{white-space:pre-wrap;border-right:1px solid #333;}
#output{white-space:pre;overflow-x:auto;}
.toolbar{
height:40px;background:#000;border-top:1px solid #333;
display:flex;justify-content:center;align-items:center;gap:10px;
position:fixed;bottom:0;width:100%;
}
button{
background:#222;color:#0f0;border:1px solid #0f0;
padding:5px 10px;cursor:pointer;font-size:14px;
}
button:hover{background:#0f0;color:#111;}
</style>
</head>
<body>
<h3 style="margin:5px 10px;">WkJSON â€“ Well Keyed JSON Formatter  by Will Kim & DeepToHyde</h3>
<div class="container">
<textarea id="input" class="panel" placeholder="Paste JSON here..."></textarea>
<textarea id="output" class="panel" readonly placeholder="Formatted JSON will appear here..."></textarea>
</div>
<div class="toolbar">
<button onclick="convert()">Convert</button>
<button onclick="copyIn()">Copy IN</button>
<button onclick="copyOut()">Copy OUT</button>
<button onclick="loadSample()">Sample</button>
</div>

<script>
const sampleJSON = `{"IDX":{"name":"Index AAA","symbol":"^IDX","interval":"15m","rows":10,"profile":{"100":10000,"101":20000},"price_set":[100,101,102],"energies":[1,2,3],"ohlcv":{"ts":[1,2,3],"open":[10,11,12],"high":[15,16,17],"low":[9,10,11],"close":[14,15,16],"volume":[100,200,300]}}}`;

function formatJSON(text){
try{
const obj = JSON.parse(text);
return JSON.stringify(obj,null,2);
}catch(e){
return "Invalid JSON";
}
}
function convert(){
const txt = document.getElementById("input").value;
document.getElementById("output").value = formatJSON(txt);
}
function copyIn(){
document.getElementById("input").select();
document.execCommand("copy");
}
function copyOut(){
document.getElementById("output").select();
document.execCommand("copy");
}
function loadSample(){
document.getElementById("input").value = sampleJSON;
convert();
}
document.getElementById("input").addEventListener("input",()=>{
clearTimeout(window.autoConvertTimer);
window.autoConvertTimer = setTimeout(convert,800);
});
setTimeout(loadSample,1000);
</script>
</body>
</html>
