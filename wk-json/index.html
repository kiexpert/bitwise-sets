<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>WkJSON Formatter</title>
<style>
body{font-family:monospace;background:#111;color:#eee;margin:0;padding:16px;}
h1{font-size:18px;margin-bottom:12px;}
textarea{width:100%;height:240px;background:#222;color:#eee;border:1px solid #444;padding:8px;white-space:pre;overflow:auto;}
button{margin-top:8px;padding:6px 12px;background:#333;color:#fff;border:1px solid #555;cursor:pointer;}
#error{color:#e66;padding-top:6px;}
</style>
</head>
<body>
<h1>WkJSON Formatter by Will Kim &amp; DeepToHyde</h1>

<textarea id="input" placeholder="여기에 JSON을 붙여넣으세요"></textarea>
<button onclick="formatJSON()">Format</button>
<button onclick="copyOutput()">Copy</button>
<div id="error"></div>
<textarea id="output" readonly placeholder="결과 출력"></textarea>

<script>
function wkJsonFormatFromObject(obj){
  let s = JSON.stringify(obj);
  s = s.replace(/,"/g, ', "').replace(/":/g, '": ');
  s = s.replace(/(, |{ )\s*"(?=[^0-9-])/g, '\n$1"');
  s = s.replace(/}\n, "(?=[^0-9-][^"]*"\s*:\s*{\s*"[^0-9-])/g, '\n},"');
  return s;
}
function wkJsonFormat(input){
  if(typeof input==="string") input = JSON.parse(input);
  return wkJsonFormatFromObject(input);
}
function formatJSON(){
  const t=document.getElementById("input").value;
  const err=document.getElementById("error");
  try{
    err.textContent="";
    document.getElementById("output").value = wkJsonFormat(t);
  }catch(e){
    err.textContent="JSON Parse Error: "+e.message;
  }
}
function copyOutput(){
  const out=document.getElementById("output");
  out.select();
  document.execCommand("copy");
}
</script>

</body>
</html>
